# gocov - Goカバレッジ集計ツール

## 概要

`gocov`は、Goプロジェクトのテストカバレッジをディレクトリ単位で集計・表示するコマンドラインツールです。標準の`go test`で生成されたカバレッジプロファイルを解析し、各ディレクトリのカバレッジ率を見やすい表形式で出力します。

## 特徴

- 📁 ディレクトリ単位でのカバレッジ集計
- 📊 見やすい表形式での結果表示
- 🚀 シンプルなコマンドラインインターフェース
- 🔧 標準のGoカバレッジプロファイル形式に対応

## インストール

```bash
go install github.com/blck-snwmn/gocov@latest
```

または、ソースコードからビルド：

```bash
git clone https://github.com/blck-snwmn/gocov.git
cd gocov
go build -o gocov
```

## 使い方

### 基本的な使用方法

1. まず、Goプロジェクトでカバレッジプロファイルを生成します：

```bash
go test -coverprofile=coverage.out -coverpkg=./... ./...
```

2. `gocov`を使用してディレクトリ単位のカバレッジを表示します：

```bash
gocov -coverprofile=coverage.out
```

### コマンドラインオプション

- `-coverprofile`: カバレッジプロファイルファイルのパス（必須）

### 出力例

```
Directory                                          Statements    Covered Coverage
--------------------------------------------------------------------------------
github.com/example/project/cmd/server                      7          5   71.4%
github.com/example/project/internal/service                7          6   85.7%
github.com/example/project/pkg/util                        7          5   71.4%
--------------------------------------------------------------------------------
TOTAL                                                     21         16   76.2%
```

## 動作原理

`gocov`は以下の手順でカバレッジを集計します：

1. 指定されたカバレッジプロファイルファイルを解析
2. 各ファイルのカバレッジ情報をディレクトリ単位で集計
3. ステートメント数とカバーされたステートメント数を計算
4. ディレクトリごとのカバレッジ率を算出
5. 結果を表形式で出力

## ユースケース

- 大規模なGoプロジェクトでのカバレッジ管理
- CI/CDパイプラインでのカバレッジレポート生成
- コードレビュー時のカバレッジ確認
- モジュール単位でのテスト品質の可視化

## 制限事項

- 現在は標準出力への表示のみ対応（将来的にJSON出力等を追加予定）
- カバレッジプロファイルファイルは事前に生成する必要があります

## 必要要件

- Go 1.16以上
- `golang.org/x/tools/cover`パッケージ